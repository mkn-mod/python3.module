
name: lang.pybind11
version: master
property:
    maiken_location: ${MKN_HOME}/app/mkn/${version}
    maiken_scm: https://github.com/mkn/mkn

parent: base
src: mod.pybind11.cpp
mode: shared

profile:
- name: base
  dep: mkn&${maiken_location}(${maiken_scm})[mod]
  if_arg:
      win_shared: -DYAML_CPP_DLL
      shared: -DKUL_SHARED

- name: test
  parent: base
  dep: mkn&${maiken_location}(${maiken_scm})[lib]
  main: test.cpp
  mod: |
    lang.python3{compile:{with: numpy}}

- name: format
  mod: |
    clang.format{init{style: google, paths: .}}
